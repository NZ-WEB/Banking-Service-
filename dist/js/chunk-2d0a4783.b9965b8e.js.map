{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?3fbe"],"names":["class","for","value","loading","request","back","title","fio","phone","currency","amount","type","status","id","remove","hasChanges","update","$route","params","name","setup","route","router","store","dispatch","push","data","console","log","components","AppPage","AppLoader","AppStatus","render","__scopeId"],"mappings":"qNAGO,eAA8B,cAAtB,iBAAa,G,EACrB,eAAkC,cAA1B,qBAAiB,G,EACzB,eAAgC,cAAxB,mBAAe,G,EACvB,eAAiC,cAAzB,oBAAgB,G,iBAAS,M,GAE/BA,MAAM,gB,EACT,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAExB,eAAsC,UAA9BC,MAAM,QAAO,YAAQ,G,EAC7B,eAA0C,UAAlCA,MAAM,aAAY,WAAO,G,EACjC,eAAuC,UAA/BA,MAAM,UAAS,WAAO,G,EAC9B,eAA4C,UAApCA,MAAM,WAAU,eAAW,G,SAS9BF,MAAM,0B,sJAtBC,EAAAG,S,iBAAlB,eAAwC,YACC,EAAAC,S,iBAAzC,eAoBW,G,MApBDC,KAAA,GAAKC,MAAM,U,YACnB,iBAAwD,CAAxD,eAAwD,UAArD,E,eAA8B,KAAE,eAAG,EAAAF,QAAQG,KAAG,KACjD,eAA8D,UAA3D,E,eAAkC,KAAE,eAAG,EAAAH,QAAQI,OAAK,KACvD,eAAuE,UAApE,E,eAAgC,KAAE,eAAG,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KAC/D,eAA0F,UAAvF,E,EAAmC,eAAgD,GAAnCC,KAAM,EAAAP,QAAQQ,Q,mBAEjE,eAQM,MARN,EAQM,CAPJ,E,eACA,eAKS,UALDC,GAAG,S,qDAAkB,EAAAD,OAAM,K,CACjC,EACA,EACA,EACA,G,cAJ2B,EAAAA,YAQ/B,eAA2D,UAAnDZ,MAAM,aAAc,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,WAC7B,EAAAC,Y,iBAAd,eAAuE,U,MAA7Cf,MAAM,MAAO,QAAK,8BAAE,EAAAgB,QAAA,EAAAA,OAAA,sBAAQ,a,mDAIxD,eAAyF,KAAzF,EAA0C,kBAAe,eAAE,EAAAC,OAAOC,OAAOL,IAAI,UAAO,O,4GAYvE,GACbM,KAAM,UACNC,MAFa,WAGX,IAAMjB,EAAU,gBAAI,GACdkB,EAAQ,iBACRC,EAAS,iBACTC,EAAQ,iBACRnB,EAAU,eAAI,IACdQ,EAAS,iBAETE,EAAK,yDAAI,8GACPS,EAAMC,SAAS,iBAAkBH,EAAMH,OAAOL,IADvC,OAEbS,EAAOG,KAAK,KAFC,2CAAJ,qDAKLT,EAAK,yDAAI,2GACPU,EADO,iCACItB,EAAQF,OADZ,IACmBU,OAAQA,EAAOV,MAAOW,GAAIQ,EAAMH,OAAOL,KAD1D,SAEPU,EAAMC,SAAS,iBAAkBE,GAF1B,OAGbtB,EAAQF,MAAMU,OAASA,EAAOV,MAHjB,2CAAJ,qDAMX,eAAS,wCAAC,2GACRC,EAAQD,OAAQ,EADR,SAEcqB,EAAMC,SAAS,kBAAmBH,EAAMH,OAAOL,IAF7D,OAERT,EAAQF,MAFA,OAGRU,EAAOV,MAAP,UAAeE,EAAQF,aAAvB,aAAe,EAAeU,OAC9BT,EAAQD,OAAQ,EAJR,4CAOV,IAAMa,EAAa,gBAAS,kBAAMX,EAAQF,MAAMU,SAAWA,EAAOV,SAKlE,OAFAyB,QAAQC,IAAIP,EAAMH,OAAOL,IAElB,CACLV,UACAC,UACAK,WAAA,KACAK,SACAE,SACAJ,SACAG,eAGJc,WAAY,CACVC,UAAA,KACAC,YAAA,KACAC,YAAA,OC9EJ,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-2d0a4783.b9965b8e.js","sourcesContent":["<template>\r\n  <app-loader v-if=\"loading\"></app-loader>\r\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\r\n    <p><strong>Имя владельца</strong>: {{ request.fio }}</p>\r\n    <p><strong>Телефон владельца</strong>: {{ request.phone }}</p>\r\n    <p><strong>сумма владельца</strong>: {{ currency(request.amount) }}</p>\r\n    <p><strong>Статус владельца</strong>: <app-status :type=\"request.status\"></app-status></p>\r\n\r\n    <div class=\"form-control\">\r\n      <label for=\"status\">Статус</label>\r\n      <select id=\"status\" v-model=\"status\">\r\n        <option value=\"done\">Завершен</option>\r\n        <option value=\"cancelled\">Отменен</option>\r\n        <option value=\"active\">Активен</option>\r\n        <option value=\"pending\">Выполняется</option>\r\n      </select>\r\n    </div>\r\n\r\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\r\n    <button v-if=\"hasChanges\" class=\"btn\" @click=\"update\">Обновить</button>\r\n\r\n\r\n  </app-page>\r\n  <h3 v-else class=\"text-center text-white\"> Заявки с ID = {{$route.params.id}} — нет!</h3>\r\n</template>\r\n\r\n<script>\r\nimport {ref, onMounted, computed} from 'vue'\r\nimport AppPage from \"../components/ui/AppPage\";\r\nimport {useRoute, useRouter} from 'vue-router'\r\nimport {useStore} from \"vuex\";\r\nimport AppLoader from \"../components/ui/AppLoader\";\r\nimport AppStatus from \"../components/ui/AppStatus\";\r\nimport {currency} from  '../utils/currency'\r\n\r\nexport default {\r\n  name: \"Request\",\r\n  setup() {\r\n    const loading = ref(true)\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    const store = useStore()\r\n    const request = ref({})\r\n    const status = ref()\r\n\r\n    const remove = async () => {\r\n      await store.dispatch('request/remove', route.params.id)\r\n      router.push('/')\r\n    }\r\n\r\n    const update = async () => {\r\n      const data = {...request.value, status: status.value, id: route.params.id}\r\n      await store.dispatch('request/update', data)\r\n      request.value.status = status.value\r\n    }\r\n\r\n    onMounted(async () => {\r\n      loading.value = true\r\n      request.value = await store.dispatch('request/loadOne', route.params.id)\r\n      status.value = request.value?.status\r\n      loading.value = false\r\n    })\r\n\r\n    const hasChanges = computed(() => request.value.status !== status.value)\r\n\r\n\r\n    console.log(route.params.id)\r\n\r\n    return {\r\n      loading,\r\n      request,\r\n      currency,\r\n      remove,\r\n      update,\r\n      status,\r\n      hasChanges\r\n    }\r\n  },\r\n  components: {\r\n    AppPage,\r\n    AppLoader,\r\n    AppStatus\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./Request.vue?vue&type=template&id=772db3be&scoped=true\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-772db3be\"\n\nexport default script"],"sourceRoot":""}